<h1>Сервис обогащения сообщений.</h1>
<h2>Техническое задание:</h2>
<h3>Необходимо разработать сервис обогащения сообщений, который в режиме реального времени вычитывает сообщения из топика `Kafka`, 
применяет правила обогащения из `PostgreSQL`, используя для обогащения документы из `MongoDB`, и отправляет сообщения в выходной топик `Kafka`.
Правила обогащения также могут обновляться в режиме реального времени пользователями сервиса. Несколько правил обогащения объединяются и могут применяться для одного сообщения.
Каждый сервис имеет свой enrichmentId, это значит, что он должен вычитывать только свои правила.
Если два правила обогащают одно и то же поле разными документами, то актуальным правилом является то правило, чей `rule_id` больше.
Если одному правилу соответствует несколько документов, то актуальным является тот документ, чей `_id` больше (максимальный из всех).
Если по актуальному правилу документа в `MongoDB` нет, то поле обогащается значением по умолчанию из правила.
Если правил нет, сообщение не обогащается и отправляется в том виде, в котором есть в выходной топик.
Обогащение происходит документом в формате json со всеми полями.</h3>

* Сервис должен вычитывать конфигурации из `application.conf`.
* Сервис должен раз в заданное время (параметр `updateIntervalSec`) проверять данные в `postgreSQL` и обновлять правила фильтрации при необходимости.
* Сервис должен в режиме реального времени читать сообщения из `Kafka` (`json`) и отправлять сообщения в `Kafka` в том же виде (`json`), но только те, которые удовлетворяют правилам дедубликации.
* Для соединения с БД нужно использовать connection pool `HikariCP`.
* Для работы с БД (запросы) нужно использовать библиотеку `JOOQ`.
* Для хранения документов - использовать `MongoDB`.
* Для написания кода пользоваться codegen библиотекой `Lombok`.
* Для работы с конфигурациями (`application.conf`) - `typesafe config`.
* Для логирования использовать библиотеку `Sl4j`
* Для работы с JSON использовать библиотеку `jackson`

![Сервис обогащения](https://user-images.githubusercontent.com/3996014/235328884-8ee84b0f-ada7-4f6a-af98-830bcd65a97b.png)